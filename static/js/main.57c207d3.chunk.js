(this.webpackJsonprodan=this.webpackJsonprodan||[]).push([[0],{11:function(e,t,a){e.exports=a(19)},16:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a(10),s=a(1),o=a(2),l=a(4),c=a(3),i=a(5),u=a(0),d=a.n(u),h=a(8),p=a.n(h),m=(a(16),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).addfields=function(e){a.fields.push({name:"",value:""}),a.props.fieldsStateUpdatedCallback(a.fields)},a.btnRemoveFields=function(e){var t=e.target.id;if(t>=0){for(var n=[],r=0;r<a.fields.length;r++)r!=t&&n.push(a.fields[r]);a.fields=n}a.props.fieldsStateUpdatedCallback(a.fields)},a.inputNameChange=function(e){var t=a.fields.slice();t[e.target.id].name=e.target.value,a.fields=t,a.props.fieldsStateUpdatedCallback(a.fields)},a.inputValueChange=function(e){var t=a.fields.slice();t[e.target.id].value=e.target.value,a.fields=t,a.props.fieldsStateUpdatedCallback(a.fields)},a.fields=a.props.initialValues,a}return Object(i.a)(t,e),Object(o.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.fields=e.initialValues,!0}},{key:"render",value:function(){var e=this;return d.a.createElement("div",{className:"mt-3",key:this.props.initialValues},d.a.createElement("h5",null,this.props.headingText),this.fields.map((function(t,a){return d.a.createElement("div",{className:"mt-1",key:a},d.a.createElement("input",{className:"mx-1",type:"text",id:a,onChange:e.inputNameChange,value:e.fields[a].name}),d.a.createElement("input",{type:"text",id:a,onChange:e.inputValueChange,value:e.fields[a].value}),d.a.createElement("button",{id:a,onClick:e.btnRemoveFields},"x"))})),d.a.createElement("button",{className:"mt-1",onClick:this.addfields},this.props.buttonText))}}]),t}(d.a.Component)),y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).handleAuthTypeChange=function(e){e.preventDefault();var t=e.target.value,n={};n="basic"===t?{type:"basic",username:"",password:""}:"bearer"===t?{type:"bearer"}:{type:"no"},a.auth=n,a.updateParentByCallback()},a.updateParentByCallback=function(){a.props.authStateUpdatedCallback(Object.assign({},a.auth))},a.handleBasicAuthInputChange=function(e){console.log(e.target.name),"username"===e.target.name?(a.auth.username=e.target.value,console.log(a.auth)):"password"===e.target.name&&(a.auth.password=e.target.value),a.updateParentByCallback()},a.auth=a.props.auth,a}return Object(i.a)(t,e),Object(o.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.auth=e.auth,!0}},{key:"render",value:function(){return d.a.createElement(d.a.Fragment,null,d.a.createElement("h5",null,"Authorization"),d.a.createElement("select",{value:this.auth.type,onChange:this.handleAuthTypeChange},d.a.createElement("option",{value:"no"},"No Authentication"),d.a.createElement("option",{value:"basic"},"Basic")),d.a.createElement("br",null),"basic"===this.auth.type?d.a.createElement("div",{className:"mt-1"},d.a.createElement("input",{type:"text",className:"mx-1",name:"username",value:this.auth.username,placeholder:"Username",onChange:this.handleBasicAuthInputChange}),d.a.createElement("input",{type:"text",className:"mt-1",name:"password",value:this.auth.password,placeholder:"Password",onChange:this.handleBasicAuthInputChange})):d.a.createElement("div",null))}}]),t}(d.a.Component),b=a(9),g={type:"no",contentType:"",content:""},f={type:"raw",contentType:"raw-text",content:""},v=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).handleBodyTypeChange=function(e){var t=e.target.value;"no"===t?a.body={type:"no"}:"raw"===t&&(a.body=f),a.body.content=a.rawBodyContentsTextArea,console.log("rawBodyContentsTextArea "+a.rawBodyContentsTextArea),a.updateParentOnChange(a.body)},a.handleRawBodyTypeChange=function(e){a.body.contentType=e.target.id,a.updateParentOnChange(a.body),console.log("f "+JSON.stringify(a.body))},a.handleRawBodyContentChange=function(e){a.rawBodyContentsTextArea=e.target.value,a.body.content=a.rawBodyContentsTextArea,a.updateParentOnChange(a.body)},a.body=a.props.body,a.updateParentOnChange=a.props.onComponentParamsUpdate,a.rawBodyContentsTextArea="",a}return Object(i.a)(t,e),Object(o.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.body=e.body,!0}},{key:"render",value:function(){return d.a.createElement(d.a.Fragment,null,d.a.createElement("h5",null,"Request Body"),d.a.createElement("select",{value:this.body.type,onChange:this.handleBodyTypeChange},d.a.createElement("option",{value:"no"},"None"),d.a.createElement("option",{value:"raw"},"Raw"),d.a.createElement("option",{value:"file"},"File")),"raw"===this.body.type?d.a.createElement("div",null,d.a.createElement("div",{className:"custom-control custom-radio custom-control-inline"},d.a.createElement("input",{type:"radio",checked:"raw-text"===this.body.contentType,className:"custom-control-input",id:"raw-text",name:"raw-type",onChange:this.handleRawBodyTypeChange}),d.a.createElement("label",{className:"custom-control-label",htmlFor:"raw-text"},"Text")),d.a.createElement("div",{className:"custom-control custom-radio custom-control-inline"},d.a.createElement("input",{type:"radio",checked:"raw-json"===this.body.contentType,className:"custom-control-input",id:"raw-json",name:"raw-type",onChange:this.handleRawBodyTypeChange}),d.a.createElement("label",{className:"custom-control-label",htmlFor:"raw-json"},"JSON")),d.a.createElement("div",{className:"custom-control custom-radio custom-control-inline"},d.a.createElement("input",{type:"radio",checked:"raw-xml"===this.body.contentType,className:"custom-control-input",id:"raw-xml",name:"raw-type",onChange:this.handleRawBodyTypeChange}),d.a.createElement("label",{className:"custom-control-label",htmlFor:"raw-xml"},"XML")),d.a.createElement("div",{className:"custom-control custom-radio custom-control-inline"},d.a.createElement("input",{type:"radio",checked:"raw-javascript"===this.body.contentType,className:"custom-control-input",id:"raw-javascript",name:"raw-type",onChange:this.handleRawBodyTypeChange}),d.a.createElement("label",{className:"custom-control-label",htmlFor:"raw-javascript"},"JavaScript")),d.a.createElement("div",{className:"form-group"},d.a.createElement("label",{htmlFor:"rawBodyContent"},"Large textarea"),d.a.createElement("textarea",{className:"form-control rounded-0",id:"rawBodyContent",value:this.body.content,rows:"8",onChange:this.handleRawBodyContentChange}))):d.a.createElement("div",null))}}]),t}(d.a.Component),E="mlphjckcfhahdpkgilejininpelpnacn",C=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return d.a.createElement(d.a.Fragment,null,d.a.createElement("h5",null,"Examples"),d.a.createElement("button",{onClick:function(){e.props.stateUpdatedCallback(Object.assign({},{headers:[],queryParams:[{name:"symbols",value:"USD,GBP"}],url:"https://api.exchangeratesapi.io/latest",method:"GET"}))}},"Exchange Rate (Query Params)"),d.a.createElement("br",null),d.a.createElement("button",{onClick:function(){e.props.stateUpdatedCallback(Object.assign({},{headers:[],queryParams:[{name:"hand",value:"wave"}],url:"https://postman-echo.com/post",method:"POST"}))}},"Postman POST Echo (Query Params)"))}}]),t}(d.a.Component),O=function(){function e(t,a,n){var r=this;Object(s.a)(this,e),this.getBodyAsJson=function(){return JSON.parse(r._bodyAsString)},this._statusCode=t,this._headers=a,this._body=n}return Object(o.a)(e,[{key:"statusCode",set:function(e){this._statusCode=e},get:function(){return this._statusCode}},{key:"headers",set:function(e){this._headers=e},get:function(){return this._headers}},{key:"body",set:function(e){this._body=e},get:function(){return this._body}}]),e}();function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var w=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(c.a)(t).call(this))).checkErrors=function(){var t=[];return e.state.headers.forEach((function(e){0===e.name.length&&t.push("Headers cannot be empty")})),t},e.btnSubmitRestCall=function(t){t.preventDefault(),e.setState({showResult:!0}),e.setState({errors:[]});var a=e.checkErrors();if(a.length>0)e.setState({errors:a.slice()});else{e.setState({response:"fetching..."});var s="";e.state.queryParams.length>0&&(s="?",e.state.queryParams.map((function(e){return e.name.length>0&&(s=s+e.name+"="+e.value+"&"),e})),s=s.slice(0,-1));var o=e.state.url+s;console.log(o);var l=Object.assign.apply(Object,[{}].concat(Object(r.a)(e.state.headers.map((function(e){return Object(n.a)({},e.name,e.value)})))));null!=e.state.auth.type&&"basic"===e.state.auth.type&&(console.log("adding auth"),l=Object.assign(l,{Authorization:"Basic "+Object(b.encode)(e.state.auth.username+":"+e.state.auth.password)}));var c=e.state.body.content;if("no"!==e.state.body.type&&"raw"===e.state.body.type){var i={};switch(e.state.body.contentType){case"raw-json":i={"Content-Type":"application/json"};break;case"raw-xml":i={"Content-Type":"application/xml"};break;case"raw-javacript":i={"Content-Type":"application/javascript"};break;default:i={"Content-Type":"application/text"}}l=Object.assign(l,i)}var u={method:e.state.method,headers:l};"GET"!==e.state.method&&"no"!==c.type&&(u=Object.assign(u,{body:c}));try{window.chrome.runtime.sendMessage(E,{url:o,options:u},(function(t){if(console.log({res:t}),"SUCCESS"===t.requestStatus){var a=new O;a.body=t.responseText,a.code=t.status,a.headers=t.headers,console.log({response:a}),e.setState({response:a.body})}else e.setState({response:"error connection to ".concat(e.state.url)})}))}catch(d){console.log(d)}}},e.headersStateUpdated=function(t){e.setState({headers:t})},e.queryParamsStateUpdated=function(t){e.setState({queryParams:t})},e.authStateUpdated=function(t){console.log("authStateUpdated"),e.setState({auth:t})},e.stateUpdated=function(t){e.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.state,{},t))},e.bodyComponentUpdated=function(t){console.log("body updated"),e.setState({body:t})},e.state={url:"https://jsonplaceholder.typicode.com/users",method:"GET",headers:[],errors:[],queryParams:[],showResult:!1,auth:{},body:g},e}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return d.a.createElement("div",{className:"container-fluid mt-3"},d.a.createElement("div",{className:"row content"},d.a.createElement("div",{className:"col-lg-1"}),d.a.createElement("div",{className:"col-lg-5"},d.a.createElement("div",{className:"input-group"},d.a.createElement("select",{className:"custom-select flex-shrink w-auto",value:this.state.method,onChange:function(t){return e.setState({method:t.target.value})}},d.a.createElement("option",{value:"POST"},"POST"),d.a.createElement("option",{value:"GET"},"GET"),d.a.createElement("option",{value:"PUT"},"PUT")),d.a.createElement("input",{type:"text",value:this.state.url,placeholder:"HTTP URL",className:"form-control",onChange:function(t){return e.setState({url:t.target.value})}}),d.a.createElement("span",{className:"input-group-btn ml-1"},d.a.createElement("input",{type:"button",value:"Call",className:"btn btn-primary",onClick:this.btnSubmitRestCall}))),d.a.createElement("hr",null),d.a.createElement(y,{auth:this.state.auth,authStateUpdatedCallback:this.authStateUpdated}),d.a.createElement("hr",null),d.a.createElement(m,{headingText:"HTTP Header",buttonText:"Add Headers",fieldsStateUpdatedCallback:this.headersStateUpdated,initialValues:this.state.headers.slice()}),d.a.createElement("hr",null),d.a.createElement(m,{headingText:"Query Parameters",buttonText:"Add Parameters",fieldsStateUpdatedCallback:this.queryParamsStateUpdated,initialValues:this.state.queryParams.slice()}),d.a.createElement("hr",null),d.a.createElement(v,{body:this.state.body,onComponentParamsUpdate:this.bodyComponentUpdated}),d.a.createElement("hr",null),d.a.createElement(C,{stateUpdatedCallback:this.stateUpdated})),d.a.createElement("div",{className:"col-lg-5"},this.state.errors.length>0?d.a.createElement(T,{heading:"Error",message:this.state.errors}):d.a.createElement(T,{heading:"".concat(this.state.method," ").concat(this.state.url),message:this.state.response})),d.a.createElement("div",{className:"col-lg-1"})))}}]),t}(d.a.Component),T=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).state={},a}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return d.a.createElement(d.a.Fragment,null,d.a.createElement("h5",null," ","Result: ".concat(this.props.heading),"  "),d.a.createElement("pre",{class:"prettyprint"},this.props.message))}}]),t}(d.a.Component);p.a.render(d.a.createElement(w,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.57c207d3.chunk.js.map